/* ==========================================================================
   TABLE OF CONTENTS
   1. Base & Layout
   2. Cards & Containers
   3. Forms & Inputs
   4. Buttons
   5. Recipe Metrics
   6. Recipe Cards
   7. Ingredients Table
   8. Ingredient Inputs
   9. SRM Colors
   10. Utilities & Animations
   11. Recipe Version History
   ========================================================================== */

/* ==========================================================================
   1. Base & Layout
   ========================================================================== */
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem 1rem;
}

.page-title {
  font-size: 1.5rem;
  font-weight: 700;
  margin-bottom: 1.5rem;
  color: #333;
}

.section-title {
  font-size: 1.5rem;
  font-weight: 700;
  margin: 2rem 0 1rem;
  color: #333;
}

/* Grid layout */
.grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.5rem;
}

.grid-col-2-3, .grid-col-1-3 {
  grid-column: span 1;
}

@media (min-width: 992px) {
  .grid {
    grid-template-columns: 2fr 1fr;
  }
  .grid-col-2-3 { grid-column: 1; }
  .grid-col-1-3 { grid-column: 2; }
}

/* ==========================================================================
   2. Cards & Containers
   ========================================================================== */
.card {
  background-color: #ffffff;
  border-radius: 0.5rem;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  padding: 1.5rem;
  margin-bottom: 1.5rem;
}

.card-title {
  font-size: 1.25rem;
  font-weight: 600;
  margin-bottom: 1rem;
  color: #92400e; /* amber-800 */
  border-bottom: 1px solid #fde68a; /* amber-200 */
  padding-bottom: 0.5rem;
}

/* ==========================================================================
   3. Forms & Inputs
   ========================================================================== */
.form-row {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1rem;
  margin-bottom: 1.5rem;
}

@media (min-width: 768px) {
  .form-row {
    grid-template-columns: 1fr 1fr;
  }
}

.form-group {
  margin-bottom: 1rem;
}

.form-label {
  display: block;
  font-weight: 500;
  margin-bottom: 0.25rem;
  color: #4b5563; /* gray-700 */
}

.form-control, .input-control {
  width: 100%;
  padding: 0.5rem 0.75rem;
  border: 1px solid #d1d5db; /* gray-300 */
  border-radius: 0.25rem;
  font-size: 1rem;
  transition: border-color 0.2s, box-shadow 0.2s;
}

.form-control:focus, .input-control:focus {
  outline: none;
  border-color: #d97706; /* amber-600 */
  box-shadow: 0 0 0 3px rgba(217, 119, 6, 0.1);
}

.form-textarea {
  min-height: 80px;
  resize: vertical;
}

.form-check {
  display: flex;
  align-items: center;
  margin-top: 1.5rem;
}

.form-check-input {
  margin-right: 0.5rem;
}

.form-actions {
  display: flex;
  justify-content: flex-end;
  margin-top: 1.5rem;
}

/* Input groups */
.input-group {
  display: flex;
  width: 100%;
}

.input-group .input-control {
  flex: 3;
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
  border-right: none;
}

.input-group .input-addon {
  flex: 1;
  padding: 0.5rem 0.75rem;
  background-color: #f3f4f6; /* gray-100 */
  border: 1px solid #d1d5db; /* gray-300 */
  border-top-right-radius: 0.25rem;
  border-bottom-right-radius: 0.25rem;
}

/* Highlighted inputs (for pre-filled values) */
.prefilled-input {
  border-color: #d97706 !important; /* amber-600 */
  background-color: #fffbeb !important; /* amber-50 */
}

.prefilled-input:focus {
  background-color: #fff !important;
  box-shadow: 0 0 0 3px rgba(217, 119, 6, 0.1) !important;
}

/* ==========================================================================
   4. Buttons
   ========================================================================== */
.btn {
  padding: 0.5rem 1rem;
  border-radius: 0.25rem;
  font-weight: 500;
  cursor: pointer;
  transition: background-color 0.2s, border-color 0.2s;
  text-align: center;
  font-size: 0.875rem;
}

.btn-default {
  background-color: #f9fafb; /* gray-50 */
  border: 1px solid #d1d5db; /* gray-300 */
  color: #4b5563; /* gray-700 */
}

.btn-default:hover {
  background-color: #f3f4f6; /* gray-100 */
}

.btn-primary {
  background-color: #d97706; /* amber-600 */
  border: 1px solid #d97706; /* amber-600 */
  color: white;
}

.btn-primary:hover {
  background-color: #b45309; /* amber-700 */
  border-color: #b45309; /* amber-700 */
}

.btn-secondary {
  background-color: #f59e0b; /* amber-500 */
  border: 1px solid #f59e0b; /* amber-500 */
  color: white;
}

.btn-secondary:hover {
  background-color: #d97706; /* amber-600 */
  border-color: #d97706; /* amber-600 */
}

.btn-full {
  width: 100%;
  display: block;
}

.btn + .btn {
  margin-left: 0.5rem;
}

.calculate-button {
  width: 100%;
  padding: 0.625rem;
  background-color: #f59e0b; /* amber-500 */
  color: white;
  border: none;
  border-radius: 0.25rem;
  font-weight: 600;
  font-size: 0.875rem;
  cursor: pointer;
  transition: background-color 0.2s;
  display: flex;
  justify-content: center;
  align-items: center;
}

.calculate-button:hover {
  background-color: #d97706; /* amber-600 */
}

/* ==========================================================================
   5. Recipe Metrics
   ========================================================================== */
.metrics-container {
  background-color: #fffbeb; /* amber-50 */
  border-radius: 0.5rem;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  padding: 1.5rem;
  margin-bottom: 1.5rem;
}

.metrics-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
  margin-bottom: 1rem;
}

.metric-box {
  text-align: center;
  padding: 0.75rem 0.5rem;
  background-color: white;
  border-radius: 0.25rem;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.metric-label {
  font-size: 0.75rem;
  color: #6b7280; /* gray-500 */
  margin-bottom: 0.25rem;
}

.metric-value {
  font-size: 1.5rem;
  font-weight: 700;
  color: #92400e; /* amber-800 */
  line-height: 1.2;
}

/* Color display */
.color-display {
  display: flex;
  align-items: center;
  margin-bottom: 1rem;
  padding: 0.75rem;
  background-color: white;
  border-radius: 0.375rem;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.color-info {
  flex-grow: 1;
  margin-right: 1rem;
}

.color-swatch {
  width: 4rem;
  height: 4rem;
  border-radius: 50%;
  border: 3px solid white;
  box-shadow: 0 0 0 1px #e5e7eb;
}

/* Balance meter */
.balance-meter-container {
  background-color: white;
  padding: 0.75rem;
  border-radius: 0.375rem;
  margin-bottom: 1rem;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.balance-labels {
  display: flex;
  justify-content: space-between;
  font-size: 0.75rem;
  color: #6b7280; /* gray-500 */
  margin-bottom: 0.25rem;
}

.balance-meter {
  height: 0.5rem;
  background-color: #e5e7eb; /* gray-200 */
  border-radius: 9999px;
  overflow: hidden;
}

.balance-meter-progress {
  height: 100%;
  background-color: #d97706; /* amber-600 */
  transition: width 0.3s ease;
}

.balance-description {
  text-align: center;
  font-size: 0.75rem;
  margin-top: 0.25rem;
  color: #4b5563; /* gray-700 */
}

/* Card metrics view (compact) */
.card-metrics-container {
  background-color: transparent;
  border-radius: 0.5rem;
  padding: 1rem 0;
  margin-top: 0.5rem;
}

.card-metrics-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0.5rem;
  margin-bottom: 0.5rem;
}

.card-metrics-grid .metric-box {
  padding: 0.5rem 0.25rem;
  background-color: #fffbeb; /* light amber background */
}

.card-metrics-grid .metric-label {
  font-size: 0.65rem;
}

.card-metrics-grid .metric-value {
  font-size: 1rem;
}

.card-color-display {
  display: flex;
  align-items: center;
  margin-bottom: 0.5rem;
  padding: 0.5rem;
  background-color: #fffbeb; /* light amber background */
  border-radius: 0.375rem;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.card-color-display .color-info {
  margin-right: 0.5rem;
}

.card-color-display .color-swatch {
  width: 2rem;
  height: 2rem;
  border: 2px solid white;
}

.card-balance-meter-container {
  background-color: #fffbeb; /* light amber background */
  padding: 0.5rem;
  border-radius: 0.375rem;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.card-balance-meter-container .balance-labels {
  font-size: 0.65rem;
}

.card-balance-meter-container .balance-meter {
  height: 0.375rem;
}

.card-balance-meter-container .balance-description {
  font-size: 0.65rem;
}

/* Recipe scaling */
.scaling-container {
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid #e5e7eb; /* gray-200 */
}

.scaling-title {
  font-size: 1rem;
  font-weight: 500;
  margin-bottom: 0.5rem;
}

.scaling-input-group {
  display: flex;
}

.scaling-input {
  flex-grow: 1;
  padding: 0.5rem 0.75rem;
  border: 1px solid #d1d5db; /* gray-300 */
  border-right: none;
  border-top-left-radius: 0.25rem;
  border-bottom-left-radius: 0.25rem;
}

.scaling-input:focus {
  outline: none;
  border-color: #d97706; /* amber-600 */
  box-shadow: 0 0 0 3px rgba(217, 119, 6, 0.1);
}

.scaling-button {
  padding: 0.5rem 1rem;
  background-color: #d97706; /* amber-600 */
  color: white;
  border: 1px solid #d97706; /* amber-600 */
  border-top-right-radius: 0.25rem;
  border-bottom-right-radius: 0.25rem;
  cursor: pointer;
}

.scaling-button:hover {
  background-color: #b45309; /* amber-700 */
  border-color: #b45309; /* amber-700 */
}

/* ==========================================================================
   6. Recipe Cards
   ========================================================================== */
.recipe-card {
  background-color: white;
  border-radius: 0.5rem;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  padding: 1.25rem;
  display: flex;
  flex-direction: column;
  height: 100%;
  transition: transform 0.2s, box-shadow 0.2s;
}

.recipe-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.recipe-card-header {
  margin-bottom: 0.75rem;
}

.recipe-card-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: #92400e; /* amber-800 */
  margin-bottom: 0.25rem;
}

.recipe-card-style {
  font-size: 0.875rem;
  color: #b45309; /* amber-700 */
  margin-bottom: 0.5rem;
}

.recipe-card-description {
  font-size: 0.875rem;
  color: #4b5563; /* gray-700 */
  margin-bottom: 1rem;
  line-height: 1.4;
  /* For line clamping (shows only 3 lines max) */
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.recipe-card-footer {
  margin-top: auto;
  padding-top: 0.75rem;
  border-top: 1px solid #f3f4f6; /* gray-100 */
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.75rem;
  color: #6b7280; /* gray-500 */
}

.recipe-card-container {
  display: grid;
  grid-template-columns: repeat(1, 1fr);
  gap: 1.5rem;
}

@media (min-width: 640px) {
  .recipe-card-container {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1024px) {
  .recipe-card-container {
    grid-template-columns: repeat(3, 1fr);
  }
}

/* ==========================================================================
   7. Ingredients Table
   ========================================================================== */
.ingredients-table-container {
  overflow-x: auto;
}

.ingredients-table {
  width: 100%;
  border-collapse: collapse;
}

.ingredients-table th {
  background-color: #fffbeb; /* amber-50 */
  color: #92400e; /* amber-800 */
  text-align: left;
  padding: 0.75rem 1rem;
  font-weight: 600;
  border-bottom: 2px solid #fde68a; /* amber-200 */
}

.ingredients-table td {
  padding: 0.75rem 1rem;
  border-bottom: 1px solid #e5e7eb; /* gray-200 */
}

.ingredients-table tr:hover {
  background-color: #fef3c7; /* amber-100 */
}

.ingredient-name {
  font-weight: 600;
}

.ingredient-type {
  text-transform: capitalize;
}

.ingredient-action {
  padding: 0.25rem 0.5rem;
  color: #ef4444; /* red-500 */
  background: none;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
}

.ingredient-action:hover {
  color: #b91c1c; /* red-700 */
}

/* ==========================================================================
   8. Ingredient Input Styles
   ========================================================================== */
.grain-form,
.hop-form,
.yeast-form,
.adjunct-form {
  margin-bottom: 1.5rem;
}

/* Base grid layout for all ingredient inputs */
.grain-inputs,
.hop-inputs,
.yeast-inputs,
.adjunct-inputs {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 40px;
  position: relative;
  width: 100%;
}

/* Common styling for all amount containers */
.grain-amount-container,
.hop-amount-container,
.yeast-amount-container,
.adjunct-amount-container {
  display: flex;
  width: 140px; /* Fixed width for all amount inputs */
  flex-shrink: 0;
}

/* Common styling for all selectors */
.grain-selector,
.hop-selector,
.yeast-selector,
.adjunct-selector {
  width: 280px; /* Fixed width for all ingredient selectors */
  flex-shrink: 0;
}

.grain-select-control,
.hop-select-control,
.yeast-select-control,
.adjunct-select-control {
  width: 100%;
  padding: 0.5rem 0.75rem;
  border: 1px solid #d1d5db;
  border-radius: 0.25rem;
  font-size: 1rem;
}

/* Amount inputs styling */
.grain-amount-input,
.hop-amount-input,
.yeast-amount-input,
.adjunct-amount-input {
  flex: 2;
  min-width: 70px;
  padding: 0.5rem 1rem;
  border: 1px solid #d1d5db;
  border-radius: 0.25rem 0 0 0.25rem;
  border-right: none;
}

.grain-unit-select,
.hop-unit-select,
.yeast-unit-select,
.adjunct-unit-select {
  flex: 1;
  padding: 0.5rem 0.5rem;
  background-color: #f3f4f6;
  border: 1px solid #d1d5db;
  border-radius: 0 0.25rem 0.25rem 0;
  max-width: 100%;
}

/* Common styling for all button containers */
.grain-button-container,
.hop-button-container,
.yeast-button-container,
.adjunct-button-container {
  width: 100px; /* Fixed width for all button containers */
  flex-shrink: 0;
  margin-left: auto; /* Push to the right edge */
}

.grain-add-button,
.hop-add-button,
.yeast-add-button,
.adjunct-add-button {
  width: 100%;
  height: 38px;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* ===== Grain-specific styling ===== */
.grain-lovibond-container {
  position: relative;
  width: 100px;
  flex-shrink: 0;
}

.grain-color-input {
  width: 70px;
  padding: 0.5rem 0.5rem;
  padding-right: 30px;
  border: 1px solid #d1d5db;
  border-radius: 0.25rem;
}

.grain-color-unit {
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  color: #6b7280;
  font-size: 0.875rem;
  font-weight: 500;
  pointer-events: none;
}

/* ===== Hop-specific styling ===== */
.hop-alpha-container {
  position: relative;
  width: 130px;
  flex-shrink: 0;
}

.hop-alpha-input {
  width: 80px;
  padding: 0.5rem 0.5rem;
  padding-right: 50px;
  border: 1px solid #d1d5db;
  border-radius: 0.25rem;
}

.hop-alpha-unit {
  position: absolute;
  right: 5px;
  top: 50%;
  transform: translateY(-50%);
  color: #6b7280;
  font-size: 0.875rem;
  font-weight: 500;
  pointer-events: none;
}

.hop-time-container {
  display: flex;
  gap: 10px;
  width: 240px;
  flex-shrink: 0;
}

.hop-time-input {
  width: 60px;
  padding: 0.5rem 0.5rem;
  border: 1px solid #d1d5db;
  border-radius: 0.25rem;
}

.hop-time-unit-select,
.hop-use-select {
  padding: 0.5rem;
  border: 1px solid #d1d5db;
  border-radius: 0.25rem;
}

.hop-time-unit-select {
  width: 85px;
}

.hop-use-select {
  flex-grow: 1;
  min-width: 100px;
}

/* Responsive adjustments */
@media (max-width: 992px) {
  .grain-inputs,
  .hop-inputs,
  .yeast-inputs,
  .adjunct-inputs {
    flex-direction: column;
    align-items: flex-start;
  }
  
  .grain-selector,
  .hop-selector,
  .yeast-selector,
  .adjunct-selector,
  .grain-amount-container,
  .hop-amount-container,
  .yeast-amount-container,
  .adjunct-amount-container,
  .grain-lovibond-container,
  .hop-alpha-container,
  .hop-time-container,
  .grain-button-container,
  .hop-button-container,
  .yeast-button-container,
  .adjunct-button-container {
    width: 100%;
    margin: 5px 0;
  }
  
  .grain-color-input,
  .hop-alpha-input {
    width: 100px;
  }
  
  .hop-time-input {
    width: 70px;
  }
}

/* ==========================================================================
   9. SRM Colors
   ========================================================================== */
.srm-1 { background-color: #ffe699; }
.srm-2 { background-color: #ffd878; }
.srm-3 { background-color: #ffca5a; }
.srm-4 { background-color: #ffbf42; }
.srm-5 { background-color: #fbb123; }
.srm-6 { background-color: #f8a600; }
.srm-7 { background-color: #f39c00; }
.srm-8 { background-color: #ea8f00; }
.srm-9 { background-color: #e58500; }
.srm-10 { background-color: #de7c00; }
.srm-11 { background-color: #d77200; }
.srm-12 { background-color: #cf6900; }
.srm-13 { background-color: #cb6200; }
.srm-14 { background-color: #c35900; }
.srm-15 { background-color: #bb5100; }
.srm-16 { background-color: #b54c00; }
.srm-17 { background-color: #b04500; }
.srm-18 { background-color: #a63e00; }
.srm-19 { background-color: #a13700; }
.srm-20 { background-color: #9b3200; }
.srm-21 { background-color: #952d00; }
.srm-22, .srm-23, .srm-24, .srm-25,
.srm-26, .srm-27, .srm-28, .srm-29, .srm-30 { background-color: #8f2a00; }
.srm-31, .srm-32, .srm-33, .srm-34, .srm-35, 
.srm-36, .srm-37, .srm-38, .srm-39, .srm-40 { background-color: #7c2200; }

/* ==========================================================================
   10. Utilities & Animations
   ========================================================================== */
/* Animations */
@keyframes highlight {
  0% { background-color: #fef3c7; /* amber-100 */ }
  100% { background-color: transparent; }
}

.highlight {
  animation: highlight 1.5s ease;
}

/* Margin utilities */
.mb-1 { margin-bottom: 0.25rem; }
.mb-2 { margin-bottom: 0.5rem; }
.mb-3 { margin-bottom: 0.75rem; }
.mb-4 { margin-bottom: 1rem; }
.mb-6 { margin-bottom: 1.5rem; }
.mt-2 { margin-top: 0.5rem; }
.mt-4 { margin-top: 1rem; }
.mt-6 { margin-top: 1.5rem; }

/* ==========================================================================
11. Recipe Version History
========================================================================== */
/* Version container */
.version-history {
margin-top: 2rem;
padding: 1rem;
background-color: #fffbeb; /* amber-50 */
border-radius: 0.5rem;
border: 1px solid #fcd34d; /* amber-300 */
}
.version-history-title {
font-size: 1.25rem;
color: #92400e; /* amber-800 */
margin-bottom: 0.75rem;
font-weight: 600;
border-bottom: 1px solid #fde68a; /* amber-200 */
padding-bottom: 0.5rem;
}
.parent-version, .current-version, .child-versions {
margin-bottom: 1rem;
}
.parent-version h4, .current-version h4, .child-versions h4 {
font-size: 0.875rem;
color: #b45309; /* amber-700 */
margin-bottom: 0.25rem;
font-weight: 500;
}
.parent-link {
color: #d97706; /* amber-600 */
text-decoration: none;
font-weight: 500;
}
.parent-link:hover {
text-decoration: underline;
}
.version-badge {
display: inline-block;
font-size: 0.75rem;
background-color: #fde68a; /* amber-200 /
color: #92400e; / amber-800 */
padding: 0.25rem 0.5rem;
border-radius: 9999px;
font-weight: 600;
}
.derived-recipes-list {
list-style-type: disc;
margin-left: 1.5rem;
}
.derived-recipes-list a {
color: #d97706; /* amber-600 */
text-decoration: none;
}
.derived-recipes-list a:hover {
text-decoration: underline;
}
.version-history-loading {
padding: 1rem;
text-align: center;
color: #6b7280; /* gray-500 */
}
.version-history-error {
padding: 1rem;
text-align: center;
color: #ef4444; /* red-500 */
}
/* Recipe card version badge */
.recipe-card-version {
display: inline-block;
font-size: 0.75rem;
background-color: #fffbeb; /* amber-50 */
color: #b45309; /* amber-700 */
padding: 0.25rem 0.5rem;
border-radius: 9999px;
margin-bottom: 0.5rem;
border: 1px solid #fcd34d; /* amber-300 */
}
/* Update recipe card actions for clone button */
.recipe-card-actions {
display: flex;
flex-wrap: wrap;
justify-content: space-between;
margin-top: 1rem;
gap: 0.5rem;
}
.recipe-card-button {
flex: 1;
min-width: calc(33% - 0.5rem); /* For better alignment with 3 buttons */
padding: 0.5rem 0.75rem;
border-radius: 0.25rem;
font-weight: 500;
font-size: 0.875rem;
cursor: pointer;
transition:
background-color 0.2s,
border-color 0.2s,
transform 0.1s;
text-align: center;
border: 1px solid transparent;
}
/* Clone button styling */
.recipe-card-button.clone-button {
background-color: #fbbf24; /* amber-400 */
color: white;
}
.recipe-card-button.clone-button:hover {
background-color: #f59e0b; /* amber-500 */
}
/* Renamed other buttons for clarity */
.recipe-card-button.view-button {
background-color: #f59e0b; /* amber-500 */
color: white;
}
.recipe-card-button.view-button:hover {
background-color: #d97706; /* amber-600 */
}
.recipe-card-button.edit-button {
background-color: #d97706; /* amber-600 */
color: white;
}
.recipe-card-button.edit-button:hover {
background-color: #b45309; /* amber-700 */
}
.recipe-card-button.delete-button {
background-color: white;
border-color: #ef4444; /* red-500 /
color: #ef4444; / red-500 */
}
.recipe-card-button.delete-button:hover {
background-color: #fef2f2; /* red-50 /
color: #dc2626; / red-600 */
}
/* Add brew button (placeholder for future implementation) */
.recipe-card-button.brew-button {
background-color: #10b981; /* emerald-500 */
color: white;
}
.recipe-card-button.brew-button:hover {
background-color: #059669; /* emerald-600 */
}
.recipe-card-button.brew-button:disabled {
opacity: 0.6;
cursor: not-allowed;
}
/* Responsive button adjustments */
@media (max-width: 480px) {
.recipe-card-button {
min-width: 100%;
margin-bottom: 0.25rem;
}
}